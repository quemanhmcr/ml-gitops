# =============================================================================
# CronWorkflow for Scheduled ML Training
# =============================================================================
apiVersion: argoproj.io/v1alpha1
kind: CronWorkflow
metadata:
  name: ml-training-weekly
spec:
  # Schedule: Every Monday at 2 AM UTC
  schedule: "0 2 * * 1"
  timezone: "UTC"
  workflowSpec:
    entrypoint: ml-training-pipeline
    serviceAccountName: ml-training-sa
    workflowTemplateRef:
      name: ml-training-pipeline
    arguments:
      parameters:
        - name: data-version
          value: "latest"
        - name: model-version
          value: "" # Auto-generated
        - name: hyperparameters
          value: '{"learning_rate": 0.001, "batch_size": 32}'
    # Retry policy
    retryStrategy:
      limit: 3
      retryPolicy: "Always"

